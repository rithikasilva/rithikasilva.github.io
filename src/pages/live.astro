---
import Layout from "../layouts/Layout.astro";
import Button from "../components/Button.astro";
import GraduationCard from "../components/GraduationCard.astro";
import Spotify from "../components/Spotify.astro";
import TimeZone from "../components/TimeZoneCard.astro";
import LastUpdateCard from "../components/LastUpdateCard.astro";
import Card from "../components/Card/index.astro";
---

<script>
  import { stagger, spring, timeline, type TimelineDefinition } from "motion";
  
  const cards = document.querySelectorAll(".card");
  
  const sequence = [
    [
      cards,
      { y: ["40%", "0%"], opacity: [0, 1] },
      {
        duration: 0.4,
        delay: stagger(0.2),
        easing: spring({ velocity: 100, stiffness: 50, damping: 10 }),
      },
    ],
  ];

  timeline(sequence as TimelineDefinition);
</script>

<Layout title="Rithika Silva - Live Stats" description="Real-time stats and metrics">
  <main class="mt-20 text-white max-w-6xl mx-auto p-6">
    <div class="mb-8">
      <a href="/" class="text-gray-400 hover:text-gray-100 mb-8 inline-block">&larr; Back</a>
      <h1 class="text-4xl font-bold mb-2">Live Stats</h1>
      <p class="text-gray-300 text-lg">Real-time metrics and live data</p>
    </div>

    <div class="grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 gap-6">
      <!-- Real working cards -->
      <GraduationCard />
      <Spotify colSpan="md:col-span-1" rowSpan="md:row-span-1" />
      <TimeZone colSpan="md:col-span-2" rowSpan="md:row-span-1" />
      
      <!-- New live stat cards -->
      <LastUpdateCard colSpan="md:col-span-1" rowSpan="md:row-span-1" />

      <!-- Ghost card placeholder -->
      <div class="card bg-transparent border-2 border-dashed border-gray-600 rounded-lg p-6 flex flex-col justify-center items-center hover:border-primary-50 transition-colors duration-300">
        <div class="text-center">
          <div class="text-2xl font-bold mb-2 text-gray-500">?</div>
          <div class="text-sm text-gray-400 mb-1">Feature request pending</div>
          <div class="text-xs text-gray-500">status: backlogged</div>
        </div>
      </div>

    </div>

    <!-- Status indicator -->
    <div class="mt-12 text-center">
      <div class="inline-flex items-center gap-2 text-sm text-gray-400">
        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
        <span>Live data updates automatically</span>
      </div>
    </div>
  </main>
</Layout>

<style>
  .card {
    min-height: 200px;
  }
</style>
